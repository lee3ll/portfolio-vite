(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const p=new Lenis;function u(t){p.raf(t),requestAnimationFrame(u)}requestAnimationFrame(u);let c=window.pageYOffset;const l=document.getElementById("header");window.onscroll=function(){const t=window.pageYOffset;c>t?l.classList.add("active"):l.classList.remove("active"),c=t};const i=document.querySelector("#main");function g(){i.style.height="100vh",setTimeout(function(){i.style.height=""},17e3)}window.onload=g;gsap.set("#header",{top:-100});gsap.set("#canvas",{autoAlpha:0});gsap.set("#section1",{autoAlpha:0});gsap.set(".title .p1",{autoAlpha:0,y:50});gsap.set(".title .p2",{autoAlpha:0,y:50});gsap.set(".title .p3",{autoAlpha:0,y:50});gsap.set(".story .t1",{autoAlpha:0,y:50});gsap.set(".story .t2",{autoAlpha:0,y:50});gsap.set(".story .t3",{autoAlpha:0,y:50});setTimeout(()=>{let t=gsap.timeline();t.to("#section1",{autoAlpha:1,duration:2}),t.to(".story .t1",{autoAlpha:1,duration:1,y:0,ease:"sine.out"}),t.to(".story .t1",{autoAlpha:0,duration:1,y:-50,ease:"sine.out",delay:1.3}),t.to(".story .t2",{autoAlpha:1,duration:1,y:0,ease:"sine.out"}),t.to(".story .t2",{autoAlpha:0,duration:1,y:-50,ease:"sine.out",delay:1.3}),t.to(".story .t3",{autoAlpha:1,duration:1,y:0,ease:"sine.out"}),t.to(".story .t3",{autoAlpha:0,duration:1,y:-50,ease:"sine.out",delay:1.3}),t.to("#canvas",{autoAlpha:1,duration:1}),t.to(".title .p1",{autoAlpha:1,y:0,duration:.6}),t.to(".title .p2",{autoAlpha:1,y:0,duration:.6}),t.to(".title .p3",{autoAlpha:1,y:0,duration:.6}),t.to("#header",{top:0,duration:.4})},2e3);const y=document.querySelector("#section1");ScrollTrigger.create({trigger:y,start:"bottom bottom",pin:!0,pinSpacing:!1});document.querySelector(".skip").addEventListener("click",t=>{i.style.height="",t.preventDefault(),document.querySelector(document.querySelector(".skip").getAttribute("href")).scrollIntoView({behavior:"smooth"})});gsap.utils.toArray(".info").forEach(t=>{gsap.to(t,{yPercent:-80,ease:"none",duration:.5,scrollTrigger:{trigger:t,start:"top bottom",end:"bottom top",markers:!1,scrub:.5}})});const d=gsap.timeline();d.set(".script-title",{x:400,opacity:0}).to(".script-title",{x:-70,opacity:1});ScrollTrigger.create({animation:d,trigger:"#section4",start:"-30% top",end:"20% top",scrub:!0});gsap.utils.toArray("#main section").forEach(t=>{let r=t.getAttribute("data-bgcolor");ScrollTrigger.create({trigger:t,start:"top 70%",end:"bottom bottom",markers:!1,onEnter:function(){gsap.to("body",{backgroundColor:r,duration:1.4})},onEnterBack:function(){gsap.to("body",{backgroundColor:r,duration:1.4})}})});ScrollTrigger.create({trigger:"#section3",start:"top 60%",end:"bottom 90%",markers:!1,onEnter:function(){document.querySelector("#section3").classList.add("active")},onLeave:function(){document.querySelector("#section3").classList.remove("active")},onEnterBack:function(){document.querySelector("#section3").classList.add("active")},onLeaveBack:function(){document.querySelector("#section3").classList.remove("active")}});const f=document.querySelectorAll(".hovered");f.forEach(function(t){t.addEventListener("mousemove",r=>{let n=r.pageX,s=r.screenY,e=window.innerWidth/2-n,o=document.querySelector("#photo").offsetHeight/2-s;console.log(s);const a=t;a.style.transform="translate("+-e/15+"px, "+-o/15+"px) rotateZ("+-e/100+"deg)"}),t.addEventListener("mouseout",()=>{t.style.transition="transform 0.5s ease",t.style.transform="",setTimeout(()=>{t.style.transition=""},500)})});
